<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alphabet Quiz</title>
    <link rel="stylesheet" href="aquiz.css" />
    <a href="child.html" id="brand"><img src="./img/BRAND.png" /></a>
  </head>
  <body>
    <div id="quiz-container">
      <div class="questions">
        <h2 id="question"></h2>
        <ol type="A">
          <li class="option">
            <span id="option0" onclick="calcScore(this)"></span>
          </li>
          <li class="option">
            <span id="option1" onclick="calcScore(this)"></span>
          </li>
          <li class="option">
            <span id="option2" onclick="calcScore(this)"></span>
          </li>
          <li class="option">
            <span id="option3" onclick="calcScore(this)"></span>
          </li>
        </ol>
        <h4 id="stat"></h4>
      </div>

      <div class="buttons">
        <button type="button" class="next">Next</button>
      </div>
    </div>
    <div id="scoreboard">
      <img src="/logo.png" alt="" />
      <h2 id="score-title">Your Score</h2>
      <h2 id="score"></h2>
      <button type="button" id="score-btn" onclick="backToQuiz()">
        Back to Quiz
      </button>
      <button type="button" id="check-answer" onclick="checkAnswer()">
        Check Answers
      </button>
    </div>

    <!-- answers section -->
    <div id="answerBank">
      <h2>Answers :</h2>
      <ol type="1" id="answers"></ol>
      <button type="button" id="score-btn" onclick="backToQuiz()">
        Back to Quiz
      </button>
    </div>
    <script>
      var questionBank = [
        {
          question: "Apple:",
          option: ["A", "R", "P", "X"],
          answer: "A",
        },
        {
          question: "Queen:",
          option: ["F", "Q", "C", "M"],
          answer: "Q",
        },
        {
          question: "Fish:",
          option: ["H", "F", "L", "O"],
          answer: "F",
        },
        {
          question: "Icecream",
          option: ["J", "Z", "B", "I"],
          answer: "I",
        },
        {
          question: "Umbrella:",
          option: ["D", "T", "U", "V"],
          answer: "U",
        },
      ];

      var question = document.getElementById("question");
      var quizContainer = document.getElementById("quiz-container");
      var scorecard = document.getElementById("scorecard");
      var option0 = document.getElementById("option0");
      var option1 = document.getElementById("option1");
      var option2 = document.getElementById("option2");
      var option3 = document.getElementById("option3");
      var next = document.querySelector(".next");
      var points = document.getElementById("score");
      var span = document.querySelectorAll("span");
      var i = 0;
      var score = 0;

      //function to display questions
      function displayQuestion() {
        for (var a = 0; a < span.length; a++) {
          span[a].style.background = "none";
        }
        question.innerHTML = "Q." + (i + 1) + " " + questionBank[i].question;
        option0.innerHTML = questionBank[i].option[0];
        option1.innerHTML = questionBank[i].option[1];
        option2.innerHTML = questionBank[i].option[2];
        option3.innerHTML = questionBank[i].option[3];
        stat.innerHTML =
          "Question" + " " + (i + 1) + " " + "of" + " " + questionBank.length;
      }

      //function to calculate scores
      function calcScore(e) {
        if (
          e.innerHTML === questionBank[i].answer &&
          score < questionBank.length
        ) {
          score = score + 1;
          document.getElementById(e.id).style.background = "limegreen";
        } else {
          document.getElementById(e.id).style.background = "tomato";
        }
        setTimeout(nextQuestion, 300);
      }

      //function to display next question
      function nextQuestion() {
        if (i < questionBank.length - 1) {
          i = i + 1;
          displayQuestion();
        } else {
          points.innerHTML = score + "/" + questionBank.length;
          quizContainer.style.display = "none";
          scoreboard.style.display = "block";
        }
      }

      //click events to next button
      next.addEventListener("click", nextQuestion);

      //Back to Quiz button event
      function backToQuiz() {
        location.reload();
      }

      //function to check Answers
      function checkAnswer() {
        var answerBank = document.getElementById("answerBank");
        var answers = document.getElementById("answers");
        answerBank.style.display = "block";
        scoreboard.style.display = "none";
        for (var a = 0; a < questionBank.length; a++) {
          var list = document.createElement("li");
          list.innerHTML = questionBank[a].answer;
          answers.appendChild(list);
        }
      }

      displayQuestion();
    </script>
  </body>
</html>
